<!DOCTYPE html >
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width,height=device-height,user-scalable=no">
    <link rel="stylesheet" href="lib/layui/css/layui.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

    <!-- left menu -->
    <ul class="layui-nav layui-nav-tree layui-nav-side sidebar-menu" lay-shrink="all">
        <li class="layui-nav-item layui-nav-itemed">
            <a>菜单 ONE</a>
            <dl class="layui-nav-child">
                <dd><a data-pagecode="workSummary" class="menu active">选项1</a></dd>
                <dd><a>选项2</a></dd>
                <dd><a>跳转</a></dd>
            </dl>
        </li>
        <li class="layui-nav-item">
            <a>菜单 TWO</a>
            <dl class="layui-nav-child">
                <dd><a data-pagecode="workPlan" class="menu">移动模块</a></dd>
                <dd><a>后台模版</a></dd>
                <dd><a>跳转</a></dd>
            </dl>
        </li>
        <li class="layui-nav-item">
            <a>菜单 Three</a>
            <dl class="layui-nav-child">
                <dd><a data-pagecode="xx" class="menu">1</a></dd>
                <dd><a>2</a></dd>
                <dd><a>3</a></dd>
            </dl>
        </li>
    </ul>

    <!--right content-->
    <div class="content-wrapper">

    </div>
</body>
<script src='https://code.jquery.com/jquery-3.3.1.min.js'></script>
<script src="lib/layui/layui.all.js"></script>
<script src="js/index.js"></script>
<script type="text/javascript">
    // 获取其他html页面内容
    var code = './pages/' + $(".sidebar-menu .active").attr("data-pagecode");
    $.ajax({
        url: code + ".html",
        type:"get",
        data:{
            code:code
        },
        dataType:"html",
        success:function(data){
            $(".content-wrapper").html(data)
        }
    });

    // 点按菜单切换导航
    $(".sidebar-menu .menu").click(function(){
        // 菜单效果
        if($(this).hasClass("active")==false){

            $(this).addClass("active").parents('li').siblings().find("a").removeClass("active")

            // 切换页面内容
            var code = './pages/' + $(this).attr("data-pagecode");
            if(code){
                $.ajax({
                    url:code + ".html",
                    type:"get",
                    dataType:"html",
                    success:function(data){
                        $(".content-wrapper").html(data);
                    }
                })
            }
        }
    });
</script>
</html>
